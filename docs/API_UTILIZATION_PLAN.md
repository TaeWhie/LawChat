# 국가법령정보 API 활용 계획

**작성일**: 2026-02-13  
**대상**: LawChat 노동 법령 확장 — 확인된 25개 API 전부 활용

- **저장·캐시 전략**: API 호출 최소화를 위한 저장 경로·동기화·캐시 정책은 **[API_STORAGE_STRATEGY.md](./API_STORAGE_STRATEGY.md)** 참고. (laws/ 제거 후 `api_data/` 기반)

---

## 1. 목표

- 현재 **로컬 laws/*.md 기반 RAG**를 **API 기반·확장 데이터**와 연동
- 사용자 질의 → 이슈 정규화 → 법령·판례·해석·위원회·용어 통합 검색 → 근거 있는 답변
- JSON만 사용, OC 키·브라우저 헤더 준수

---

## 2. API 역할 매트릭스

| 구분 | API (target) | 역할 | 호출 시점 |
|------|--------------|------|-----------|
| **입력 정규화** | 일상용어-법령용어 연계 (`dlytrmRlt`) | 사용자 표현 → 법령 용어 | 상담 시작·이슈 분류 전 |
| **입력 정규화** | 지능형 검색 (`aiSearch`) | 키워드/조문 검색 후보 | 이슈 분류·조문 좁히기 보조 |
| **법령 원문** | 현행법령 (`law`) | 법률 목록·본문 | 동기화·RAG 기본 출처 |
| **법령 원문** | 행정규칙 (`admrul`) | 시행령·시행규칙 목록·본문 | 동기화·RAG 보강 |
| **법령 원문** | 법령 별표·서식 (`licbyl`) | 별표·서식 목록·본문 | 동기화·인용 시 |
| **법령 원문** | 행정규칙 별표·서식 (`admbyl`) | 시행령·규칙 별표·서식 | 동기화·인용 시 |
| **판례·해석** | 판례 (`prec`) | 판례 목록·본문 | 이슈·조문 확정 후 검색 |
| **판례·해석** | 헌재결정례 (`detc`) | 헌재 목록·본문 | 기본권 이슈 시 |
| **판례·해석** | 법령해석례 (`expc`) | 통합 해석례 목록·본문 | 조문 해석 보강 |
| **판례·해석** | 행정심판례 (`decc`) | 행정심판 목록·본문 | 행정처분 이슈 시 |
| **위원회** | 노동위원회 (`nlrc`) | 부당해고·임금 등 결정례 | 구제·해고 이슈 |
| **위원회** | 고용보험심사위원회 (`eiac`) | 고용보험 심사 사례 | 실업급여·육아휴직 등 |
| **위원회** | 산업재해보상보험재심사 (`iaciac`) | 산재 재심사 사례 | 산재 인정·보상 |
| **위원회** | 개인정보보호위원회 (`ppc`) | 개인정보 결정례 | 개인정보 이슈 혼합 시 |
| **위원회** | 공정거래위원회 (`ftc`) | 불공정·하도급 등 | 하도급·불공정 이슈 |
| **부처 해석** | 고용노동부 법령해석 (`moelCgmExpc`) | 노동 법령 공식 해석 | 해석 인용 1순위 |
| **부처 해석** | 법제처 법령해석 (`molegCgmExpc`) | 통합·다부처 해석 | 고용노동부 보강 |
| **부처 해석** | 법무부 법령해석 (`mojCgmExpc`) | 민사·형사·소송 해석 | 민형사·소송 이슈 |
| **용어·연관** | 법령용어 (`lstrmAI`) | 용어 정의·설명 | "〇〇란?" 질문·프롬프트 보강 |
| **용어·연관** | 일상용어 (`dlytrm`) | 사용자 표현 | 연계 API와 함께 |
| **용어·연관** | 관련법령 (`lsRlt`) | 조문–다른 법령 연관 | 조문 확정 후 연관 조문 |
| **용어·연관** | 연관법령 API (`aiRltLs`) | 조문 단위 연관법령 | 실시간 연관 조문 |
| **용어·연관** | 법령용어-일상용어 연계 (`lstrmRlt`) | 법령 용어 → 일상 표현 | 답변 문구 보완 |
| **용어·연관** | 법령용어-조문 연계 (`lstrmRltJo`) | 용어 ↔ 조문 | 용어로 조문 찾기 |
| **용어·연관** | 조문-법령용어 연계 (`joRltLstrm`) | 조문 ↔ 용어 | 조문 설명·요약 시 |

---

## 3. 단계별 활용 흐름

### 3.1 Phase 0: 준비 (공통 인프라)

| 순서 | 작업 | 내용 |
|------|------|------|
| 1 | API 클라이언트 모듈 | `rag/law_api_client.py` — OC 키, 헤더, lawSearch.do / lawService.do 공통화 |
| 2 | 설정 | `config.py`에 `LAW_API_OC`, (선택) 레이트 리밋·캐시 디렉터리 |
| 3 | 에러·재시도 | 타임아웃·일시 오류 시 재시도, 로깅 |

### 3.2 Phase 1: 입력 정규화 + RAG 기본 (법령)

| 순서 | 작업 | 사용 API | 설명 |
|------|------|----------|------|
| 1 | 이슈/용어 정규화 | `dlytrmRlt`, (선택) `lstrmRlt` | 사용자 문구 → 법령 용어 매핑, step1 이슈 분류 전/중 적용 |
| 2 | 법령 원문 동기화 | `law`, `admrul` | 노동 관련 법령·시행령·시행규칙 목록 조회 → 본문 조회 → 조 단위 파싱 → 벡터 스토어 또는 laws/*.md 갱신 |
| 3 | RAG 검색 확장 | 기존 `search` | API로 수집한 법령을 기존 파이프라인(step1~step4)에 반영 |
| 4 | 지능형 검색 보조 | `aiSearch` | 이슈/키워드 검색 1회, 벡터 검색 결과와 병합 또는 상위 N건만 보조 |

**산출물**: 로컬/API 혼합 법령 RAG, 정규화된 이슈·용어

### 3.3 Phase 2: 판례·해석·위원회 (인용 보강)

| 순서 | 작업 | 사용 API | 설명 |
|------|------|----------|------|
| 1 | 판례 검색 | `prec` | `precedent_query`로 생성한 쿼리 → 목록 조회 → 상위 N건 본문 조회 → 요지 추출 후 컨텍스트에 "참고 판례"로 포함 |
| 2 | 해석례 검색 | `expc`, `moelCgmExpc`, `molegCgmExpc`, `mojCgmExpc` | 이슈·조문 키워드로 목록 조회 → 본문 조회 → "고용노동부/법제처/법무부 해석에 따르면 …" 인용 |
| 3 | 위원회 결정례 | `nlrc`, `eiac`, `iaciac`, `ppc`, `ftc` | 이슈 유형별 선택(노동위·고용보험·산재·개인정보·공정거래) → 목록·본문 → "〇〇위원회 결정에 따르면 …" 인용 |
| 4 | 헌재·행정심판 | `detc`, `decc` | 기본권·행정처분 이슈일 때만 목록·본문 검색, 상위 N건 요지 인용 |

**산출물**: step4 결론 생성 시 판례·해석·위원회 문단 추가

### 3.4 Phase 3: 용어·연관 조문 (설명·확장)

| 순서 | 작업 | 사용 API | 설명 |
|------|------|----------|------|
| 1 | 용어 정의 | `lstrmAI` | "임금이란?" 등 용어 질문 시 공식 정의 반환 또는 RAG 프롬프트에 용어 설명 삽입 |
| 2 | 연관 조문 | `lsRlt`, `aiRltLs` | 확정 조문 기준 연관 법령·조문 조회 → "관련하여 〇〇법 제△△조도 참고할 수 있습니다" 등 답변 확장 |
| 3 | 용어–조문 연결 | `lstrmRltJo`, `joRltLstrm` | 용어로 조문 찾기, 조문으로 용어 찾기 — 조문 설명·요약·검색 후보 확보 |
| 4 | 답변 문구 보완 | `lstrmRlt` | 법령 용어 → 일상 표현 매핑으로 답변을 일반인 표현으로 보완 |

**산출물**: 용어 설명·연관 조문·일상 표현 보강이 포함된 최종 답변

### 3.5 Phase 4: 별표·서식 (인용·안내)

| 순서 | 작업 | 사용 API | 설명 |
|------|------|----------|------|
| 1 | 별표·서식 목록 | `licbyl`, `admbyl` | 법령·행정규칙 별표·서식 목록 조회 |
| 2 | 본문 수집 | 별표·서식 본문(형식은 제공처 따름) | "어떤 서식으로 제출하나요?", "별표 제x호에 따르면 …" 등 답변·인용 시 활용 |

**산출물**: 별표·서식 인용 및 서식 안내 가능

---

## 4. 파이프라인 연동 포인트 (현재 구조 기준)

| 단계 | 현재 | API 연동 |
|------|------|----------|
| **상담 시작** | - | `dlytrmRlt`: 사용자 입력 → 법령 용어 후보 (이슈 정규화) |
| **step1 이슈 분류** | RAG + LLM | `aiSearch`: 키워드 검색 보조; 정규화된 용어로 RAG 쿼리 보강 |
| **step2 조항 좁히기** | RAG + 구분 질문 | `lsRlt` / `aiRltLs`: 연관 조문 후보 확대(선택) |
| **step3 체크리스트** | RAG 기반 숫자·요건 질문 | `lstrmAI`: 용어 정의로 질문·선택지 설명 보강 |
| **step4 결론** | RAG + 인용 | `prec`, `expc`, `moelCgmExpc`, `nlrc` 등: 판례·해석·위원회 문단 추가 |
| **용어 질문** | - | `lstrmAI`, `lstrmRlt`, `lstrmRltJo`: 전용 플로우 또는 step4 내 용어 설명 블록 |

---

## 5. 기술 요구사항

| 항목 | 내용 |
|------|------|
| **인증** | OC 키 환경변수(`LAW_API_OC`) 또는 config, 코드에 노출 금지 |
| **헤더** | 모든 요청에 User-Agent, Accept, Referer 등 브라우저 헤더 포함 (미포함 시 차단됨) |
| **엔드포인트** | 목록: `lawSearch.do`, 본문·연계: `lawService.do` |
| **형식** | 요청/응답 모두 JSON (`type=JSON`) |
| **레이트 리밋** | 연속 호출 시 딜레이(예: 1초) 적용, 캐시 도입 권장 |
| **캐시** | 목록·본문·용어 연계 등 자주 쓰는 응답은 로컬 캐시(파일/DB)로 재사용 |
| **에러 처리** | 타임아웃·4xx/5xx 시 재시도, 실패 시 기존 RAG만으로 답변 유지 |

---

## 6. 구현 우선순위 요약

| 우선순위 | Phase | API 그룹 | 기대 효과 |
|----------|--------|-----------|-----------|
| 1 | 0 | 공통 클라이언트·설정 | 모든 API 호출 통일·유지보수 용이 |
| 2 | 1 | `dlytrmRlt`, `law`, `admrul`, `aiSearch` | 이슈 정규화, 법령 원문 확장, 검색 보조 |
| 3 | 2 | `prec`, `moelCgmExpc`, `nlrc`, `eiac`, `expc` | 판례·노동 해석·노동위·고용보험·해석례 인용 |
| 4 | 3 | `lstrmAI`, `lsRlt`, `aiRltLs`, `lstrmRltJo`, `joRltLstrm`, `lstrmRlt` | 용어 정의, 연관 조문, 답변 문구 보완 |
| 5 | 2 보강 | `detc`, `decc`, `molegCgmExpc`, `mojCgmExpc`, `ppc`, `ftc`, `iaciac` | 헌재·행정심판·기타 위원회·다부처 해석 |
| 6 | 4 | `licbyl`, `admbyl` | 별표·서식 인용 및 서식 안내 |

---

## 7. 다음 단계 (실행 순서 제안)

1. **`rag/law_api_client.py` 설계 및 구현**  
   - `lawSearch.do` / `lawService.do` 공통 함수  
   - OC, 헤더, type=JSON, 타임아웃·재시도  
2. **`config.py`에 LAW_API_OC 추가**  
   - `.env`에 `LAW_API_OC=xognl427` 등 설정  
3. **Phase 1 구현**  
   - `dlytrmRlt` 연동(이슈 정규화)  
   - `law`/`admrul` 목록·본문 수집 및 벡터 스토어/laws 반영  
   - (선택) `aiSearch` 1회 호출로 검색 보조  
4. **Phase 2 구현**  
   - `prec` + 기존 `precedent_query` 연동  
   - `moelCgmExpc`, `expc`, `nlrc`, `eiac` 목록·본문 검색 및 step4 인용  
5. **Phase 3·4**  
   - 용어·연관·별표·서식은 위 순서가 안정된 뒤 단계적으로 추가  

이 문서는 **확인된 25개 API 전부**를 활용하는 계획이며, Phase 0·1을 먼저 완료한 뒤 2→3→4 순으로 확장하는 구도를 권장합니다.
